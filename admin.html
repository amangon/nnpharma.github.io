<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NN Pharma Admin</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
}

/* Toast */
.toast{
  position:fixed;
  top:-100px;
  left:50%;
  transform:translateX(-50%);
  background:linear-gradient(45deg,#00e5ff,#2979ff);
  padding:15px 30px;
  border-radius:40px;
  font-weight:bold;
  transition:0.5s;
  box-shadow:0 10px 40px rgba(0,0,0,0.5);
}
.toast.show{
  top:30px;
}

.container{
  max-width:900px;
  margin:auto;
  padding:30px;
}

.glass{
  background:rgba(255,255,255,0.1);
  backdrop-filter:blur(25px);
  padding:30px;
  border-radius:25px;
  margin-bottom:30px;
}

input, select, textarea{
  width:100%;
  padding:12px;
  margin:10px 0;
  border:none;
  border-radius:12px;
  background:rgba(255,255,255,0.2);
  color:white;
}

button{
  padding:12px 25px;
  border:none;
  border-radius:30px;
  cursor:pointer;
  background:linear-gradient(45deg,#00e5ff,#2979ff);
  color:white;
  font-weight:bold;
}

.product{
  background:rgba(255,255,255,0.08);
  padding:15px;
  border-radius:15px;
  margin-bottom:15px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
</style>
</head>

<body>

<div class="toast" id="toast">Product Added Successfully âœ…</div>

<div class="container">

<h2 style="text-align:center;">NN Pharma Admin Panel</h2>

<div class="glass">
<h3>Add Product</h3>

<input id="name" placeholder="Product Name">

<select id="category">
<option value="">Select Category</option>
<option>Tablet</option>
<option>Injection</option>
<option>Syrup</option>
<option>Capsule</option>
<option>Antibiotic</option>
<option>Ointment</option>
<option>Drop</option>
</select>

<input id="image" placeholder="Image URL">
<textarea id="description" placeholder="Description"></textarea>

<button id="addBtn">Add Product</button>
</div>

<div class="glass">
<h3>All Products</h3>
<div id="list"></div>
</div>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getDatabase } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyAKCKgHWREXMm76SzUptK1w2tLR-6V5J1k",
  authDomain: "nnpharma-new.firebaseapp.com",
  databaseURL: "https://nnpharma-new-default-rtdb.firebaseio.com",
  projectId: "nnpharma-new",
  storageBucket: "nnpharma-new.firebasestorage.app",
  messagingSenderId: "509788618449",
  appId: "1:509788618449:web:c784004cc179ac89408ff0"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
</script>


const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const productsRef = ref(db, "products");

const toast = document.getElementById("toast");

function showToast(){
  toast.classList.add("show");
  setTimeout(()=> toast.classList.remove("show"),3000);
}

document.getElementById("addBtn").addEventListener("click", async ()=>{
  const name = document.getElementById("name").value;
  const category = document.getElementById("category").value;
  const image = document.getElementById("image").value;
  const description = document.getElementById("description").value;

  if(!name || !category || !image || !description){
    alert("Fill all fields");
    return;
  }

  await push(productsRef,{ name, category, image, description });
  showToast();

  document.getElementById("name").value="";
  document.getElementById("image").value="";
  document.getElementById("description").value="";
  document.getElementById("category").value="";
});

const list = document.getElementById("list");

onValue(productsRef,(snap)=>{
  list.innerHTML="";
  if(!snap.exists()) return;

  const data = snap.val();
  for(let key in data){
    list.innerHTML += `
      <div class="product">
        <div>
          <strong>${data[key].name}</strong><br>
          <small>${data[key].category}</small>
        </div>
        <button onclick="deleteProduct('${key}')">Delete</button>
      </div>
    `;
  }
});

window.deleteProduct = (key)=>{
  remove(ref(db,"products/"+key));
};
</script>

</body>
</html>
