<!DOCTYPE html>
<html>
<head>
  <title>Admin - NN Pharma</title>

  <script type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
    import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAJ9i4_b33p2QicCF5DHXcfKwhahpp3B_w",
      authDomain: "nn-pharma.firebaseapp.com",
      projectId: "nn-pharma",
      storageBucket: "nn-pharma.firebasestorage.app",
      messagingSenderId: "1044480571179",
      appId: "1:1044480571179:web:48e105c658e0cd6133b76e"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    window.addEventListener("DOMContentLoaded", () => {

      document.getElementById("addBtn").addEventListener("click", async () => {

        const name = document.getElementById("name").value;
        const category = document.getElementById("category").value;
        const image = document.getElementById("image").value;
        const description = document.getElementById("description").value;

        if (!name || !category || !image || !description) {
          alert("Please fill all fields");
          return;
        }

        try {

          await addDoc(collection(db, "products"), {
            name,
            category,
            image,
            description,
            createdAt: serverTimestamp()
          });

          alert("Product Added Successfully âœ…");

          document.getElementById("name").value = "";
          document.getElementById("category").value = "";
          document.getElementById("image").value = "";
          document.getElementById("description").value = "";

        } catch (error) {
          console.error(error);
          alert("Error: " + error.message);
        }

      });

    });

  </script>
</head>

<body style="background:black;color:white;text-align:center;font-family:Arial">

  <h2>Add Product</h2>

  <input id="name" placeholder="Product Name"><br><br>
  <input id="category" placeholder="Category"><br><br>
  <input id="image" placeholder="Image URL"><br><br>
  <textarea id="description" placeholder="Description"></textarea><br><br>

  <button id="addBtn">Add Product</button>

</body>
</html>
