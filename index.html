<!DOCTYPE html>
<html>
<head>
  <title>NN Pharma</title>

  <script type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAJ9i4_b33p2QicCF5DHXcfKwhahpp3B_w",
      authDomain: "nn-pharma.firebaseapp.com",
      projectId: "nn-pharma",
      storageBucket: "nn-pharma.firebasestorage.app",
      messagingSenderId: "1044480571179",
      appId: "1:1044480571179:web:48e105c658e0cd6133b76e"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function loadProducts() {
      const container = document.getElementById("products");
      container.innerHTML = "Loading...";

      try {
        const querySnapshot = await getDocs(collection(db, "products"));
        container.innerHTML = "";

        if (querySnapshot.size === 0) {
          container.innerHTML = "No Products Found";
          return;
        }

        querySnapshot.forEach((doc) => {
          const data = doc.data();

          container.innerHTML += `
            <div style="background:#111;padding:20px;margin:20px;border-radius:10px;">
              <img src="${data.image}" width="200"><br><br>
              <h3>${data.name}</h3>
              <p>${data.category}</p>
              <p>${data.description}</p>
            </div>
          `;
        });

      } catch (error) {
        console.error(error);
        container.innerHTML = "Error loading products";
      }
    }

    window.onload = loadProducts;

  </script>
</head>

<body style="background:black;color:white;text-align:center;font-family:Arial">
  <h1>NN Pharma Product Collection</h1>
  <div id="products"></div>
</body>
</html>
